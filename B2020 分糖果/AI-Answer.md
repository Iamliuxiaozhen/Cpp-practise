# B2020 分糖果
>[!note]
>本题解使用了Copilot解答，并进行了人为修改

这种题，本质上是一个很简单的“线性变换”问题，可以完全用数学建模，顺序执行和“同时执行”是等价的。

---

### 1. 把规则翻译成数学

设开始时 5 个小朋友手上的糖果分别为  
\[
a_1, a_2, a_3, a_4, a_5
\]

对第 \(i\) 号小朋友（\(i=1\ldots5\)）：

1. **先算能分成多少份：**

   \[
   t_i = \left\lfloor \frac{a_i}{3} \right\rfloor
   \]

   - 自己留 \(t_i\)
   - 给左边邻居 \(t_i\)
   - 给右边邻居 \(t_i\)
   - 立刻吃掉的糖果是：
     \[
     e_i = a_i - 3t_i
     \]

2. **注意：**  
   这里 \(t_i\) 完全只取决于“初始的 \(a_i\)”  
   他给别人的数量不受后来收到的糖果影响（题目说的是“将自己的糖果均分成 3 份”，显然指的是他手上原有的那一堆）。

所以，不管他们是“按 1→2→3→4→5 顺序操作”，还是“5 个人一起同时操作”，结果是一样的：  
- 每个人的分出量 \(t_i\) 只看初始的 \(a_i\)，互不影响。

---

### 2. 一轮结束后每个人有多少糖果

对第 \(i\) 号小朋友，一轮结束后，他会有：

- 自己留的：\(t_i\)
- 从左邻居收到的：\(t_{\text{left}(i)}\)
- 从右邻居收到的：\(t_{\text{right}(i)}\)

因此：

\[
\text{final}_i = t_{\text{left}(i)} + t_i + t_{\text{right}(i)}
\]

因为是围成一圈：

- 1 号的左邻居是 5 号，右邻居是 2 号  
  \[
  \text{final}_1 = t_5 + t_1 + t_2
  \]
- 2 号：左 1，右 3  
  \[
  \text{final}_2 = t_1 + t_2 + t_3
  \]
- 3 号：左 2，右 4  
  \[
  \text{final}_3 = t_2 + t_3 + t_4
  \]
- 4 号：左 3，右 5  
  \[
  \text{final}_4 = t_3 + t_4 + t_5
  \]
- 5 号：左 4，右 1  
  \[
  \text{final}_5 = t_4 + t_5 + t_1
  \]

---

### 3. 总共吃掉的糖果

每个人吃掉的糖果是：

\[
e_i = a_i - 3t_i
\]

所以总共吃掉的糖果：

\[
E = \sum_{i=1}^{5} e_i = \sum_{i=1}^{5} (a_i - 3t_i)
\]

实现时直接累加就行。

---

### 4. 代码实现思路（语言通用）

整体步骤：

1. **读入**数组 `a[1..5]`
2. **计算每个人的 t：**
   - `t[i] = a[i] / 3`（整数除法，自动向下取整）
3. **算最终糖果数：**
   - 用一个数组 `b[1..5]` 存结果
   - 按上面公式处理环形邻居：
     - 1 的左是 5，右是 2
     - 2 的左是 1，右是 3
     - …
4. **算吃掉的总数：**
   - 对每个 `i`：`E += a[i] - 3 * t[i]`
5. 输出 `b[1..5]` 和 `E`
